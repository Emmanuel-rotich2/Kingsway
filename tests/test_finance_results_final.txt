
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                  FINANCE API ENDPOINT TEST SUITE                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  [1mSTEP 1: Fetching Test Data IDs[0m
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Querying database for test data...
   Academic Year ID: 1
   Staff ID: 1
   Payroll ID: 15
   Department ID: 1
   Fee Structure ID: 12

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  [1mSTEP 2: Test Authentication Setup[0m
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ” Using test authentication token (X-Test-Token: devtest)
âœ“ Test authentication configured

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  [1mSTEP 3: BASE CRUD OPERATIONS[0m
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

[0;36mğŸ“‹ Test #1: Index[0m
   Method: GET /index
   [0;32mâœ“ PASSED[0m (HTTP 200)

[0;36mğŸ“‹ Test #2: Get Finance Records[0m
   Method: GET 
   [0;32mâœ“ PASSED[0m (HTTP 200)

[0;36mğŸ“‹ Test #3: Create Finance Record (POST)[0m
   Method: POST 
   [0;32mâœ“ PASSED[0m (HTTP 200)

[0;36mğŸ“‹ Test #4: Update Finance Record (PUT)[0m
   Method: PUT /1
   [0;31mâœ— FAILED[0m (Expected: 200, Got: 500)

[0;36mğŸ“‹ Test #5: Delete Finance Record (DELETE)[0m
   Method: DELETE /99999
   [0;31mâœ— FAILED[0m (Expected: 404, Got: 500)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  [1mSTEP 4: DEPARTMENT BUDGETS[0m
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

[0;36mğŸ“‹ Test #6: Get Department Budget Proposals[0m
   Method: GET /department-budgets-proposals
   [0;32mâœ“ PASSED[0m (HTTP 200)

[0;36mğŸ“‹ Test #7: Propose Department Budget[0m
   Method: POST /department-budgets-propose
   [0;32mâœ“ PASSED[0m (HTTP 200)

[0;36mğŸ“‹ Test #8: Approve Department Budget[0m
   Method: POST /department-budgets-approve
   [0;32mâœ“ PASSED[0m (HTTP 200)

[0;36mğŸ“‹ Test #9: Allocate Department Budget[0m
   Method: POST /department-budgets-allocate
   [0;32mâœ“ PASSED[0m (HTTP 200)

[0;36mğŸ“‹ Test #10: Request Funds from Budget[0m
   Method: POST /department-budgets-request-funds
   [0;32mâœ“ PASSED[0m (HTTP 200)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  [1mSTEP 5: PAYROLL OPERATIONS[0m
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

[0;36mğŸ“‹ Test #11: Get Payroll List[0m
   Method: GET ?type=payrolls
   [0;32mâœ“ PASSED[0m (HTTP 200)

[0;36mğŸ“‹ Test #12: Get Payroll Details[0m
   Method: GET /payrolls-get?id=15
   [0;31mâœ— FAILED[0m (Expected: 200, Got: 500)

[0;36mğŸ“‹ Test #13: Get Payroll Staff Payments[0m
   Method: GET ?type=staff-payments&payroll_id=15
   [0;31mâœ— FAILED[0m (Expected: 200, Got: 500)

[0;36mğŸ“‹ Test #14: Get Staff Payment Details[0m
   Method: GET /payrolls-staff-payments-get?id=15
   [0;32mâœ“ PASSED[0m (HTTP 200)

[0;36mğŸ“‹ Test #15: Get Payroll Status[0m
   Method: GET /payrolls-status?payroll_id=15
   [0;32mâœ“ PASSED[0m (HTTP 200)

[0;36mğŸ“‹ Test #16: Get Payroll Summary[0m
   Method: GET /payrolls-summary?start_date=2025-01-01&end_date=2025-12-31
   [0;31mâœ— FAILED[0m (Expected: 200, Got: 500)

[0;36mğŸ“‹ Test #17: Get Payroll History[0m
   Method: GET /payrolls-history?staff_id=1
   [0;31mâœ— FAILED[0m (Expected: 200, Got: 500)

[0;36mğŸ“‹ Test #18: Create Draft Payroll[0m
   Method: POST /payrolls-create-draft
   [0;32mâœ“ PASSED[0m (HTTP 200)

[0;36mğŸ“‹ Test #19: Calculate Payroll[0m
   Method: POST /payrolls-calculate
   [0;31mâœ— FAILED[0m (Expected: 200, Got: 500)

[0;36mğŸ“‹ Test #20: Recalculate Payroll[0m
   Method: POST /payrolls-recalculate
   [0;31mâœ— FAILED[0m (Expected: 200, Got: 500)

[0;36mğŸ“‹ Test #21: Verify Payroll[0m
   Method: POST /payrolls-verify
   [0;32mâœ“ PASSED[0m (HTTP 200)

[0;36mğŸ“‹ Test #22: Approve Payroll[0m
   Method: POST /payrolls-approve
   [0;32mâœ“ PASSED[0m (HTTP 200)

[0;36mğŸ“‹ Test #23: Reject Payroll[0m
   Method: POST /payrolls-reject
   [0;32mâœ“ PASSED[0m (HTTP 200)

[0;36mğŸ“‹ Test #24: Process Payroll[0m
   Method: POST /payrolls-process
   [0;32mâœ“ PASSED[0m (HTTP 200)

[0;36mğŸ“‹ Test #25: Disburse Payroll[0m
   Method: POST /payrolls-disburse
   [0;32mâœ“ PASSED[0m (HTTP 200)

[0;36mğŸ“‹ Test #26: Cancel Payroll[0m
   Method: POST /payrolls-cancel
   [0;32mâœ“ PASSED[0m (HTTP 200)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  [1mSTEP 6: PAYMENT OPERATIONS[0m
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

[0;36mğŸ“‹ Test #27: Generate Payment Receipt[0m
   Method: POST /payments-generate-receipt
   [0;32mâœ“ PASSED[0m (HTTP 200)

[0;36mğŸ“‹ Test #28: Generate Payslip[0m
   Method: POST /payments-generate-payslip
   [0;31mâœ— FAILED[0m (Expected: 200, Got: 500)

[0;36mğŸ“‹ Test #29: Send Payment Notification[0m
   Method: POST /payments-send-notification
   [0;31mâœ— FAILED[0m (Expected: 200, Got: 400)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  [1mSTEP 7: FEE STRUCTURE MANAGEMENT[0m
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

[0;36mğŸ“‹ Test #30: Get Fee Term Breakdown[0m
   Method: GET /fees-term-breakdown?academic_year_id=1&term=1
   [0;31mâœ— FAILED[0m (Expected: 200, Got: 400)

[0;36mğŸ“‹ Test #31: Get Pending Fee Reviews[0m
   Method: GET /fees-pending-reviews
   [0;32mâœ“ PASSED[0m (HTTP 200)

[0;36mğŸ“‹ Test #32: Get Fee Annual Summary[0m
   Method: GET /fees-annual-summary?academic_year_id=1
   [0;31mâœ— FAILED[0m (Expected: 200, Got: 400)

[0;36mğŸ“‹ Test #33: Get Student Payment History[0m
   Method: GET /students-payment-history?student_id=
   [0;32mâœ“ PASSED[0m (HTTP 200)

[0;36mğŸ“‹ Test #34: Create Annual Fee Structure[0m
   Method: POST /fees-create-annual-structure
   [0;32mâœ“ PASSED[0m (HTTP 200)

[0;36mğŸ“‹ Test #35: Review Fee Structure[0m
   Method: POST /fees-review-structure
   [0;32mâœ“ PASSED[0m (HTTP 200)

[0;36mğŸ“‹ Test #36: Approve Fee Structure[0m
   Method: POST /fees-approve-structure
   [0;32mâœ“ PASSED[0m (HTTP 200)

[0;36mğŸ“‹ Test #37: Activate Fee Structure[0m
   Method: POST /fees-activate-structure
   [0;32mâœ“ PASSED[0m (HTTP 200)

[0;36mğŸ“‹ Test #38: Rollover Fee Structure[0m
   Method: POST /fees-rollover-structure
   [0;32mâœ“ PASSED[0m (HTTP 200)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  [1mSTEP 8: FINANCIAL REPORTS[0m
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

[0;36mğŸ“‹ Test #39: Generate Payroll Report[0m
   Method: POST /reports-generate-payroll
   [0;31mâœ— FAILED[0m (Expected: 200, Got: 500)

[0;36mğŸ“‹ Test #40: Compare Yearly Collections[0m
   Method: GET /reports-compare-yearly-collections?year1=2024&year2=2025
   [0;32mâœ“ PASSED[0m (HTTP 200)

================================================================================
                              TEST SUMMARY
================================================================================
Total Tests:  40
Passed:       27
Failed:       13
Pass Rate:    67%
================================================================================

ğŸ“„ Full test results saved to: test_finance_results.txt


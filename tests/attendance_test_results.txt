==== Testing /api/attendance endpoints ====

========== Testing GET /api/attendance/index ==========
==== GET http://localhost/Kingsway/api/attendance/index ====
"{\"status\":\"success\",\"message\":\"Success\",\"data\":{\"message\":\"Attendance API is running\"},\"code\":200,\"timestamp\":\"2025-12-02T19:47:26+03:00\",\"request_id\":\"req_692f181eecf60\"}"
HTTP_STATUS:200

========== Testing GET /api/attendance/student-history ==========
==== GET http://localhost/Kingsway/api/attendance/student-history?studentId=101 ====
{"status":"success","message":"Success","data":{"status":"success","message":"Success","type":"OK","code":200,"data":[{"id":4,"student_id":101,"date":"2025-12-02","status":"present","class_id":1,"term_id":1,"created_at":"2025-12-02 19:45:18","marked_by":1,"student_name":"John Doe"}]},"code":200,"timestamp":"2025-12-02T19:47:27+03:00","request_id":"req_692f181f1fe43"}
HTTP_STATUS:200

========== Testing GET /api/attendance/student-summary ==========
==== GET http://localhost/Kingsway/api/attendance/student-summary?studentId=101 ====
{"status":"success","message":"Success","data":{"status":"success","message":"Success","type":"OK","code":200,"data":[{"term_id":1,"total_days":1,"present_days":"1","absent_days":"0","late_days":"0"}]},"code":200,"timestamp":"2025-12-02T19:47:27+03:00","request_id":"req_692f181f47261"}
HTTP_STATUS:200

========== Testing GET /api/attendance/student-percentage ==========
==== GET http://localhost/Kingsway/api/attendance/student-percentage?studentId=101&termId=1&yearId=2025 ====
{"status":"success","message":"Success","data":{"status":"error","message":"Internal server error","type":"ServerError","code":500,"data":"SQLSTATE[42S22]: Column not found: 1054 Unknown column 'academic_year' in 'where clause'"},"code":200,"timestamp":"2025-12-02T19:47:27+03:00","request_id":"req_692f181f5d7f1"}
HTTP_STATUS:200

========== Testing GET /api/attendance/chronic-student-absentees ==========
==== GET http://localhost/Kingsway/api/attendance/chronic-student-absentees?classId=1&termId=1&yearId=2025&threshold=0.2 ====
{"status":"success","message":"Success","data":{"status":"success","message":"Success","type":"OK","code":200,"data":[]},"code":200,"timestamp":"2025-12-02T19:47:27+03:00","request_id":"req_692f181f8294e"}
HTTP_STATUS:200

========== Testing GET /api/attendance/class-attendance ==========
==== GET http://localhost/Kingsway/api/attendance/class-attendance?classId=1&termId=1&yearId=2025 ====
{"status":"success","message":"Success","data":{"status":"success","message":"Success","type":"OK","code":200,"data":[]},"code":200,"timestamp":"2025-12-02T19:47:27+03:00","request_id":"req_692f181fb0271"}
HTTP_STATUS:200

========== Testing GET /api/attendance/staff-history ==========
==== GET http://localhost/Kingsway/api/attendance/staff-history?staffId=1 ====
{"status":"success","message":"Success","data":{"status":"success","message":"Success","type":"OK","code":200,"data":[]},"code":200,"timestamp":"2025-12-02T19:47:27+03:00","request_id":"req_692f181feb15a"}
HTTP_STATUS:200

========== Testing GET /api/attendance/staff-summary ==========
==== GET http://localhost/Kingsway/api/attendance/staff-summary?staffId=1 ====
{"status":"success","message":"Success","data":{"status":"error","message":"Internal server error","type":"ServerError","code":500,"data":"SQLSTATE[42S22]: Column not found: 1054 Unknown column 'sa.term_id' in 'field list'"},"code":200,"timestamp":"2025-12-02T19:47:28+03:00","request_id":"req_692f1820159ac"}
HTTP_STATUS:200

========== Testing GET /api/attendance/staff-percentage ==========
==== GET http://localhost/Kingsway/api/attendance/staff-percentage?staffId=1&termId=1&yearId=2025 ====
{"status":"success","message":"Success","data":{"status":"error","message":"Internal server error","type":"ServerError","code":500,"data":"SQLSTATE[42S22]: Column not found: 1054 Unknown column 'term_id' in 'where clause'"},"code":200,"timestamp":"2025-12-02T19:47:28+03:00","request_id":"req_692f182037eef"}
HTTP_STATUS:200

========== Testing GET /api/attendance/chronic-staff-absentees ==========
==== GET http://localhost/Kingsway/api/attendance/chronic-staff-absentees?departmentId=1&termId=1&yearId=2025&threshold=0.2 ====
{"status":"success","message":"Success","data":{"status":"error","message":"Internal server error","type":"ServerError","code":500,"data":"SQLSTATE[42S22]: Column not found: 1054 Unknown column 'sa.term_id' in 'where clause'"},"code":200,"timestamp":"2025-12-02T19:47:28+03:00","request_id":"req_692f18204d2dc"}
HTTP_STATUS:200

========== Testing GET /api/attendance/department-attendance ==========
==== GET http://localhost/Kingsway/api/attendance/department-attendance?departmentId=1&termId=1&yearId=2025 ====
{"status":"success","message":"Success","data":{"status":"error","message":"Internal server error","type":"ServerError","code":500,"data":"SQLSTATE[42S22]: Column not found: 1054 Unknown column 'sa.term_id' in 'where clause'"},"code":200,"timestamp":"2025-12-02T19:47:28+03:00","request_id":"req_692f18205c57b"}
HTTP_STATUS:200

========== Testing GET /api/attendance (CRUD) ==========
==== GET http://localhost/Kingsway/api/attendance ====
{"status":"success","message":"Success","data":{"status":"error","message":"Not implemented","type":"NotImplemented","code":501,"data":"Not implemented"},"code":200,"timestamp":"2025-12-02T19:47:28+03:00","request_id":"req_692f18206740a"}
HTTP_STATUS:200

========== Testing POST /api/attendance (Create Attendance Record) ==========
==== POST http://localhost/Kingsway/api/attendance ====
{"status":"success","message":"Success","data":{"status":"error","message":"Unknown error","type":"UnknownError","code":"Student attendance record created successfully","data":{"id":"6"}},"code":200,"timestamp":"2025-12-02T19:47:28+03:00","request_id":"req_692f18207193e"}
HTTP_STATUS:200

========== Testing PUT /api/attendance (Update Attendance Record) ==========
==== PUT http://localhost/Kingsway/api/attendance/1 ====
{"status":"success","message":"Success","data":{"status":"error","message":"Bad request","type":"BadRequest","code":400,"data":"Student attendance record not found"},"code":200,"timestamp":"2025-12-02T19:47:28+03:00","request_id":"req_692f18207e2bb"}
HTTP_STATUS:200

========== Testing DELETE /api/attendance ==========
==== DELETE http://localhost/Kingsway/api/attendance/1?type=student ====
{"status":"success","message":"Success","data":{"status":"error","message":"Bad request","type":"BadRequest","code":400,"data":"Student attendance record not found"},"code":200,"timestamp":"2025-12-02T19:47:28+03:00","request_id":"req_692f182090888"}
HTTP_STATUS:200

========== Attendance API Tests Complete ===========
